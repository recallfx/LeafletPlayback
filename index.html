<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>LeafletPlayback (recallfx) by recallfx</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/recallfx/LeafletPlayback">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/recallfx/LeafletPlayback/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/recallfx/LeafletPlayback/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>LeafletPlayback (recallfx)</h1>
          <p>This is a Leaflet plug-in that plays back points that have a time stamp synchronized to a clock.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/recallfx">recallfx</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="frok-info" class="anchor" href="#frok-info"><span class="octicon octicon-link"></span></a>Frok info</h1>

<p>This version of LeafletPlayback focuses on component reusability, so it is stripped from all dependencies except jQuery and LeafLet.</p>

<p>There are three leaflet controls defined in <code>src/Controls.js</code>: </p>

<ol>
<li>L.Playback.DateControl - Current tick date/time;</li>
<li>L.Playback.PlayControl -  Play/stop button to control time flow of LeafletPlayback;</li>
<li>L.Playback.SliderControl - Simple time slider;</li>
</ol><h1>
<a name="leaflet-playback-recallfx" class="anchor" href="#leaflet-playback-recallfx"><span class="octicon octicon-link"></span></a>Leaflet Playback (recallfx)</h1>

<p>Leaflet Playback provides the ability to replay GPS Tracks in the form of GeoJSON objects. Rather than simply animating a marker along a polyline, the speed of the animation is synchroized to a clock. The playback functionality is similar to a video player--you can start and stop playback, change the playback speed, load GPS tracks, as well as set the playback time with a slider or calendar/time-picker widget.</p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<h3>
<a name="example-0" class="anchor" href="#example-0"><span class="octicon octicon-link"></span></a><a href="http://recallfx.github.io/LeafletPlayback/examples/example_0.html">Example 0</a>
</h3>

<p>Basic example of LeafletPlayback plugin, that pre-loads some GPS GeoJSON tracks and lets you play them back.</p>

<h3>
<a name="example-1" class="anchor" href="#example-1"><span class="octicon octicon-link"></span></a><a href="http://recallfx.github.io/LeafletPlayback/examples/example_1.html">Example 1</a>
</h3>

<p>Use vis.js timeline as slider control</p>

<h2>
<a name="gps-data-format" class="anchor" href="#gps-data-format"><span class="octicon octicon-link"></span></a>GPS Data Format</h2>

<p>Leaflet Playback consumes GPS tracks in the form of GeoJSON. The next feature to be implemented for the plugin is the added ability to parse GPX tracks as well. The schema of the GeoJSON data is as follows: </p>

<div class="highlight highlight-javascript"><pre><span class="p">{</span>
  <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"Feature"</span><span class="p">,</span>
  <span class="s2">"geometry"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"MultiPoint"</span><span class="p">,</span>
    <span class="s2">"coordinates"</span><span class="o">:</span> <span class="p">[</span><span class="cm">/*array of [lng,lat] coordinates*/</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"properties"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"time"</span><span class="o">:</span> <span class="p">[</span><span class="cm">/*array of UNIX timestamps*/</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p>Other attributes may be added to the GeoJSON object, but this is the required minimum schema for the plug-in to work.</p>

<h1>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h1>

<h2>
<a name="api" class="anchor" href="#api"><span class="octicon octicon-link"></span></a>API</h2>

<h3>
<a name="new-lplaybackmap-geojson-onplaybacktimechange-options" class="anchor" href="#new-lplaybackmap-geojson-onplaybacktimechange-options"><span class="octicon octicon-link"></span></a>new L.Playback(map, geoJSON, onPlaybackTimeChange, options)</h3>

<h3>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h3>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">playback</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">L</span><span class="p">.</span><span class="nx">Playback</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">geoJSON</span><span class="p">,</span> <span class="nx">onPlaybackTimeChange</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
</pre></div>

<ul>
<li><p><code>map</code> - LeafLet map object. <strong>Required</strong>.</p></li>
<li><p><code>geoJSON</code> - GeoJSON object or an array of GeoJSON objects. Pass <code>null</code> if you don't have any data yet. <strong>Required</strong>.</p></li>
<li><p><code>onPlaybackTimeChange</code> - A function with signature <code>(timestamp)</code> that will send the <code>timestamp</code> value on each tick. <strong>Required</strong>.</p></li>
<li><p><code>options</code> - An options object. <strong>Optional</strong>.</p></li>
</ul><h3>
<a name="options-1" class="anchor" href="#options-1"><span class="octicon octicon-link"></span></a>options</h3>

<ul>
<li><p><code>tracksLayer</code> - Set <code>true</code> if you want to show layer control on the map. <strong>Default: <code>true</code></strong>.</p></li>
<li><p><code>playControl</code> - Set <code>true</code> if play button is needed. <strong>Default: <code>false</code></strong>.</p></li>
<li><p><code>dateControl</code> - Set <code>true</code> if date label is needed. <strong>Default: <code>false</code></strong>.</p></li>
<li><p><code>sliderControl</code> - Set <code>true</code> if slider control is needed. <strong>Default: <code>false</code></strong>.</p></li>
<li><p><code>marker</code> - Set leaflet marker options, to extend <code>L.Playback.MoveableMarker</code>. Useful for custom icons. <strong>Default: <code>{}</code></strong>.</p></li>
<li><p><code>maxInterpolationTime</code> - Set max interpolation time in seconds. <strong>Default: <code>5*60*1000</code> (5 minutes)</strong>.</p></li>
</ul><h3>
<a name="playbacksetdatageojson" class="anchor" href="#playbacksetdatageojson"><span class="octicon octicon-link"></span></a>playback#setData(geoJSON)</h3>

<p>Reset current data and add new.</p>

<ul>
<li>
<code>geoJSON</code> - GeoJSON object or an array of GeoJSON objects. <strong>Required</strong>.</li>
</ul><h3>
<a name="playbackadddatageojson" class="anchor" href="#playbackadddatageojson"><span class="octicon octicon-link"></span></a>playback#addData(geoJSON)</h3>

<p>Add new data.</p>

<ul>
<li>
<code>geoJSON</code> - GeoJSON object or an array of GeoJSON objects. <strong>Required</strong>.</li>
</ul><h3>
<a name="playbackcleardata" class="anchor" href="#playbackcleardata"><span class="octicon octicon-link"></span></a>playback#clearData()</h3>

<p>Clear all data and tracks layer.</p>

<h2>
<a name="authors-and-contributors" class="anchor" href="#authors-and-contributors"><span class="octicon octicon-link"></span></a>Authors and Contributors</h2>

<p>This is a <a href="https://github.com/recallfx" class="user-mention">@recallfx</a> fork of <a href="https://github.com/hallahan" class="user-mention">@hallahan</a> LeafletPlayback plugin.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>